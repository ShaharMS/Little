// Generated by HLC 4.3.4 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <_std/Reflect.h>
#include <hl/natives.h>
extern String s$get_;
String String___add__(String,String);
extern hl_type t$String;
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);

vdynamic* Reflect_field(vdynamic* r0,String r1) {
	vdynamic *r2;
	vbyte *r4;
	int r3;
	if( r1 ) goto label$0858e10_1_3;
	r2 = NULL;
	return r2;
	label$0858e10_1_3:
	if( r1 == NULL ) hl_null_access();
	r4 = r1->bytes;
	r3 = hl_hash(r4);
	r2 = hl_obj_get_field(r0,r3);
	return r2;
}

void Reflect_setField(vdynamic* r0,String r1,vdynamic* r2) {
	vbyte *r4;
	int r3;
	if( r1 == NULL ) hl_null_access();
	r4 = r1->bytes;
	r3 = hl_hash(r4);
	hl_obj_set_field(r0,r3,r2);
	return;
}

vdynamic* Reflect_getProperty(vdynamic* r0,String r1) {
	String r3;
	vdynamic *r2, *r4;
	r3 = (String)s$get_;
	r3 = String___add__(r3,r1);
	r2 = Reflect_field(r0,r3);
	if( !r2 ) goto label$0858e10_3_7;
	if( r2 == NULL ) hl_null_access();
	{
		r4 = (vdynamic*)hl_dyn_call((vclosure*)r2,NULL,0);
	}
	return r4;
	label$0858e10_3_7:
	r4 = Reflect_field(r0,r1);
	return r4;
}

hl__types__ArrayObj Reflect_fields(vdynamic* r0) {
	String r9;
	hl__types__ArrayObj r3;
	hl_type *r4;
	vbyte *r8;
	int r5, r6, r7;
	varray *r1, *r2;
	r1 = hl_obj_fields(r0);
	if( r1 ) goto label$0858e10_4_7;
	r4 = &t$String;
	r5 = 0;
	r2 = hl_alloc_array(r4,r5);
	r3 = hl_types_ArrayObj_alloc(r2);
	return r3;
	label$0858e10_4_7:
	r4 = &t$String;
	r5 = 0;
	r2 = hl_alloc_array(r4,r5);
	r3 = hl_types_ArrayObj_alloc(r2);
	r5 = 0;
	label$0858e10_4_12:
	r7 = r1->size;
	if( r5 >= r7 ) goto label$0858e10_4_25;
	r8 = ((vbyte**)(r1 + 1))[r5];
	++r5;
	r9 = (String)hl_alloc_obj(&t$String);
	r9->bytes = r8;
	r6 = 0;
	r6 = hl_ucs2length(r8,r6);
	r9->length = r6;
	if( r3 == NULL ) hl_null_access();
	r6 = hl_types_ArrayObj_push(r3,((vdynamic*)r9));
	goto label$0858e10_4_12;
	label$0858e10_4_25:
	return r3;
}

