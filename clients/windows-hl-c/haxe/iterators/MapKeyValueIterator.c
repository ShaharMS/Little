// Generated by HLC 4.3.4 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <haxe/iterators/MapKeyValueIterator.h>
extern hl_type t$fun_eb2fdfb;
extern hl_type t$fun_bf7849e;
extern hl_type t$fun_b157a06;
extern hl_type t$vrt_1d300f3;
extern hl_type t$fun_555f5cd;
extern hl_type t$_dyn;

void haxe_iterators_MapKeyValueIterator_new(haxe__iterators__MapKeyValueIterator r0,vvirtual* r1) {
	vvirtual *r2;
	r0->map = r1;
	if( r1 == NULL ) hl_null_access();
	if( hl_vfields(r1)[0] ) r2 = ((vvirtual* (*)(vdynamic*))hl_vfields(r1)[0])(r1->value); else {
		r2 = (vvirtual*)hl_dyn_call_obj(r1->value,&t$fun_eb2fdfb,117891838/*keys*/,NULL,NULL);
	}
	r0->keys = r2;
	return;
}

bool haxe_iterators_MapKeyValueIterator_hasNext(haxe__iterators__MapKeyValueIterator r0) {
	vvirtual *r2;
	bool r1;
	r2 = r0->keys;
	if( r2 == NULL ) hl_null_access();
	if( hl_vfields(r2)[0] ) r1 = ((bool (*)(vdynamic*))hl_vfields(r2)[0])(r2->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r2->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r1 = (bool)ret.v.i;
	}
	return r1;
}

vvirtual* haxe_iterators_MapKeyValueIterator_next(haxe__iterators__MapKeyValueIterator r0) {
	vvirtual *r2, *r3, *r5;
	vdynamic *r1, *r4;
	r2 = r0->keys;
	if( r2 == NULL ) hl_null_access();
	if( hl_vfields(r2)[1] ) r1 = ((vdynamic* (*)(vdynamic*))hl_vfields(r2)[1])(r2->value); else {
		r1 = (vdynamic*)hl_dyn_call_obj(r2->value,&t$fun_b157a06,151160317/*next*/,NULL,NULL);
	}
	r3 = hl_alloc_virtual(&t$vrt_1d300f3);
	r5 = r0->map;
	if( r5 == NULL ) hl_null_access();
	if( hl_vfields(r5)[1] ) r4 = ((vdynamic* (*)(vdynamic*,vdynamic*))hl_vfields(r5)[1])(r5->value,r1); else {
		void *args[] = {r1};
		r4 = (vdynamic*)hl_dyn_call_obj(r5->value,&t$fun_555f5cd,5144726/*get*/,args,NULL);
	}
	if( hl_vfields(r3)[1] ) *(vdynamic**)(hl_vfields(r3)[1]) = (vdynamic*)r4; else hl_dyn_setp(r3->value,297304054/*value*/,&t$_dyn,r4);
	if( hl_vfields(r3)[0] ) *(vdynamic**)(hl_vfields(r3)[0]) = (vdynamic*)r1; else hl_dyn_setp(r3->value,5343647/*key*/,&t$_dyn,r1);
	return r3;
}

