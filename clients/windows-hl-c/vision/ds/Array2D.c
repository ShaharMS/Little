// Generated by HLC 4.3.4 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <vision/ds/Array2D.h>
extern hl_type t$hl_types_ArrayDyn;
void hl_types_ArrayDyn_new(hl__types__ArrayDyn);
void hl_types_ArrayDyn_resize(hl__types__ArrayDyn,int);
int hl_types_ArrayDyn_get_length(hl__types__ArrayDyn);
#include <hl/types/ArrayObj.h>
extern hl_type t$_dyn;
#include <hl/natives.h>
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
#include <hl/types/ArrayBase.h>
hl__types__ArrayDyn hl_types_ArrayDyn_alloc(hl__types__ArrayBase,bool*);
int hl_types_ArrayDyn_push(hl__types__ArrayDyn,vdynamic*);
#include <haxe/iterators/ArrayIterator.h>
extern hl_type t$haxe_iterators_ArrayIterator;
void haxe_iterators_ArrayIterator_new(haxe__iterators__ArrayIterator,hl__types__ArrayDyn);
extern hl_type t$vision_ds_Array2D;
hl__types__ArrayDyn hl_types_ArrayDyn_copy(hl__types__ArrayDyn);
String vision_ds_Array2D_toString(vision__ds__Array2D);
extern String s$9d9666b;
extern String s$fc763cb;
String Std_string(vdynamic*);
String String___add__(String,String);
String String_substr(String,int,vdynamic*);
extern String s$f99fb05;
extern String s$;
extern hl_type t$_i32;
String String_substring(String,int,vdynamic*);
extern String s$f0b2d15;
#include <hl/types/ArrayBytes_Int.h>
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);

void vision_ds_Array2D_new(vision__ds__Array2D r0,int r1,int r2,vdynamic* r3) {
	hl__types__ArrayDyn r5;
	int r4, r7, r8;
	r0->width = r1;
	r0->height = r2;
	r5 = (hl__types__ArrayDyn)hl_alloc_obj(&t$hl_types_ArrayDyn);
	hl_types_ArrayDyn_new(r5);
	r0->inner = r5;
	r5 = r0->inner;
	if( r5 == NULL ) hl_null_access();
	r4 = r1 * r2;
	hl_types_ArrayDyn_resize(r5,r4);
	if( !r3 ) goto label$d64ceec_1_22;
	r4 = 0;
	r5 = r0->inner;
	if( r5 == NULL ) hl_null_access();
	r7 = hl_types_ArrayDyn_get_length(r5);
	label$d64ceec_1_14:
	if( r4 >= r7 ) goto label$d64ceec_1_22;
	r8 = r4;
	++r4;
	r5 = r0->inner;
	if( r5 == NULL ) hl_null_access();
	((void (*)(hl__types__ArrayDyn,int,vdynamic*))r5->$type->vobj_proto[1])(r5,r8,r3);
	goto label$d64ceec_1_14;
	label$d64ceec_1_22:
	return;
}

vdynamic* vision_ds_Array2D_get(vision__ds__Array2D r0,int r1,int r2) {
	hl__types__ArrayDyn r3;
	vdynamic *r6;
	int r4, r5;
	r3 = r0->inner;
	if( r3 == NULL ) hl_null_access();
	r5 = r0->width;
	r4 = r2 * r5;
	r4 = r4 + r1;
	r6 = ((vdynamic* (*)(hl__types__ArrayDyn,int))r3->$type->vobj_proto[0])(r3,r4);
	return r6;
}

vdynamic* vision_ds_Array2D_set(vision__ds__Array2D r0,int r1,int r2,vdynamic* r3) {
	hl__types__ArrayDyn r4;
	int r5, r6, r7;
	r4 = r0->inner;
	if( r4 == NULL ) hl_null_access();
	r7 = r0->width;
	r6 = r2 * r7;
	r5 = r1 + r6;
	((void (*)(hl__types__ArrayDyn,int,vdynamic*))r4->$type->vobj_proto[1])(r4,r5,r3);
	return r3;
}

void vision_ds_Array2D_setMultiple(vision__ds__Array2D r0,hl__types__ArrayObj r1,vdynamic* r2) {
	int64 r7, r11, r12;
	hl__types__ArrayDyn r10;
	vdynamic *r8;
	varray *r9;
	int r3, r5, r6, r13;
	r3 = 0;
	label$d64ceec_4_1:
	if( r1 == NULL ) hl_null_access();
	r6 = r1->length;
	if( r3 >= r6 ) goto label$d64ceec_4_25;
	r6 = r1->length;
	if( ((unsigned)r3) < ((unsigned)r6) ) goto label$d64ceec_4_9;
	r7 = 0;
	goto label$d64ceec_4_12;
	label$d64ceec_4_9:
	r9 = r1->array;
	r8 = ((vdynamic**)(r9 + 1))[r3];
	r7 = (int64)hl_dyn_casti64(&r8,&t$_dyn);
	label$d64ceec_4_12:
	++r3;
	r10 = r0->inner;
	if( r10 == NULL ) hl_null_access();
	r5 = 32;
	r12 = (int)r5;
	r11 = r7 >> r12;
	r5 = (int)r11;
	r6 = (int)r7;
	r13 = r0->width;
	r6 = r6 * r13;
	r5 = r5 + r6;
	((void (*)(hl__types__ArrayDyn,int,vdynamic*))r10->$type->vobj_proto[1])(r10,r5,r2);
	goto label$d64ceec_4_1;
	label$d64ceec_4_25:
	return;
}

hl__types__ArrayDyn vision_ds_Array2D_row(vision__ds__Array2D r0,int r1) {
	bool *r8;
	hl__types__ArrayObj r6;
	hl_type *r4;
	bool r7;
	hl__types__ArrayDyn r2, r12;
	vdynamic *r13;
	int r5, r9, r10, r11;
	varray *r3;
	r4 = &t$_dyn;
	r5 = 0;
	r3 = hl_alloc_array(r4,r5);
	r6 = hl_types_ArrayObj_alloc(r3);
	r7 = true;
	r8 = &r7;
	r2 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r6),r8);
	r9 = r0->width;
	r5 = r1 * r9;
	r10 = r0->width;
	r9 = r1 * r10;
	r10 = r0->width;
	r9 = r9 + r10;
	label$d64ceec_5_13:
	if( r5 >= r9 ) goto label$d64ceec_5_23;
	r10 = r5;
	++r5;
	if( r2 == NULL ) hl_null_access();
	r12 = r0->inner;
	if( r12 == NULL ) hl_null_access();
	r13 = ((vdynamic* (*)(hl__types__ArrayDyn,int))r12->$type->vobj_proto[0])(r12,r10);
	r11 = hl_types_ArrayDyn_push(r2,r13);
	goto label$d64ceec_5_13;
	label$d64ceec_5_23:
	return r2;
}

hl__types__ArrayDyn vision_ds_Array2D_column(vision__ds__Array2D r0,int r1) {
	bool *r8;
	hl__types__ArrayObj r6;
	hl_type *r4;
	bool r7;
	hl__types__ArrayDyn r2, r12;
	vdynamic *r14;
	int r5, r9, r10, r11, r13;
	varray *r3;
	r4 = &t$_dyn;
	r5 = 0;
	r3 = hl_alloc_array(r4,r5);
	r6 = hl_types_ArrayObj_alloc(r3);
	r7 = true;
	r8 = &r7;
	r2 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r6),r8);
	r5 = 0;
	r9 = r0->height;
	label$d64ceec_6_9:
	if( r5 >= r9 ) goto label$d64ceec_6_22;
	r10 = r5;
	++r5;
	if( r2 == NULL ) hl_null_access();
	r12 = r0->inner;
	if( r12 == NULL ) hl_null_access();
	r13 = r0->width;
	r11 = r10 * r13;
	r11 = r11 + r1;
	r14 = ((vdynamic* (*)(hl__types__ArrayDyn,int))r12->$type->vobj_proto[0])(r12,r11);
	r11 = hl_types_ArrayDyn_push(r2,r14);
	goto label$d64ceec_6_9;
	label$d64ceec_6_22:
	return r2;
}

haxe__iterators__ArrayIterator vision_ds_Array2D_iterator(vision__ds__Array2D r0) {
	haxe__iterators__ArrayIterator r1;
	hl__types__ArrayDyn r2;
	r1 = (haxe__iterators__ArrayIterator)hl_alloc_obj(&t$haxe_iterators_ArrayIterator);
	r2 = r0->inner;
	haxe_iterators_ArrayIterator_new(r1,r2);
	return r1;
}

vision__ds__Array2D vision_ds_Array2D_fill(vision__ds__Array2D r0,vdynamic* r1) {
	hl__types__ArrayDyn r5;
	int r2, r4, r6;
	r2 = 0;
	r5 = r0->inner;
	if( r5 == NULL ) hl_null_access();
	r4 = hl_types_ArrayDyn_get_length(r5);
	label$d64ceec_8_4:
	if( r2 >= r4 ) goto label$d64ceec_8_12;
	r6 = r2;
	++r2;
	r5 = r0->inner;
	if( r5 == NULL ) hl_null_access();
	((void (*)(hl__types__ArrayDyn,int,vdynamic*))r5->$type->vobj_proto[1])(r5,r6,r1);
	goto label$d64ceec_8_4;
	label$d64ceec_8_12:
	return r0;
}

vision__ds__Array2D vision_ds_Array2D_clone(vision__ds__Array2D r0) {
	vision__ds__Array2D r1;
	hl__types__ArrayDyn r6;
	vdynamic *r4;
	int r2, r3;
	r1 = (vision__ds__Array2D)hl_alloc_obj(&t$vision_ds_Array2D);
	r2 = r0->width;
	r3 = r0->height;
	r4 = NULL;
	vision_ds_Array2D_new(r1,r2,r3,r4);
	r6 = r0->inner;
	if( r6 == NULL ) hl_null_access();
	r6 = hl_types_ArrayDyn_copy(r6);
	r1->inner = r6;
	return r1;
}

vbyte* vision_ds_Array2D___string(vision__ds__Array2D r0) {
	String r2;
	vbyte *r1;
	r2 = vision_ds_Array2D_toString(r0);
	if( r2 == NULL ) hl_null_access();
	r1 = r2->bytes;
	return r1;
}

String vision_ds_Array2D_toString(vision__ds__Array2D r0) {
	String r1, r8, r9;
	hl__types__ArrayDyn r4;
	vdynamic *r7, *r10;
	int r2, r3, r5, r6;
	r1 = (String)s$9d9666b;
	r2 = 0;
	r3 = 0;
	r4 = r0->inner;
	label$d64ceec_11_4:
	if( r4 == NULL ) hl_null_access();
	r6 = hl_types_ArrayDyn_get_length(r4);
	if( r3 >= r6 ) goto label$d64ceec_11_38;
	r7 = ((vdynamic* (*)(hl__types__ArrayDyn,int))r4->$type->vobj_proto[0])(r4,r3);
	++r3;
	r6 = r0->width;
	if( r2 >= r6 ) goto label$d64ceec_11_26;
	r8 = (String)s$fc763cb;
	r9 = Std_string(r7);
	r8 = String___add__(r8,r9);
	r6 = 0;
	if( r2 != r6 ) goto label$d64ceec_11_22;
	if( r8 == NULL ) hl_null_access();
	r5 = 2;
	r10 = NULL;
	r9 = String_substr(r8,r5,r10);
	r8 = r9;
	label$d64ceec_11_22:
	r9 = String___add__(r1,r8);
	r1 = r9;
	++r2;
	goto label$d64ceec_11_37;
	label$d64ceec_11_26:
	r5 = 0;
	r2 = r5;
	r9 = (String)s$f99fb05;
	r8 = String___add__(r1,r9);
	r1 = r8;
	r8 = (String)s$;
	r9 = Std_string(r7);
	r8 = String___add__(r8,r9);
	r9 = String___add__(r1,r8);
	r1 = r9;
	++r2;
	label$d64ceec_11_37:
	goto label$d64ceec_11_4;
	label$d64ceec_11_38:
	if( r1 == NULL ) hl_null_access();
	r3 = 0;
	r5 = r1->length;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r5;
	r8 = String_substring(r1,r3,r10);
	r9 = (String)s$f0b2d15;
	r8 = String___add__(r8,r9);
	return r8;
}

int vision_ds_Array2D_get_length(vision__ds__Array2D r0) {
	hl__types__ArrayDyn r2;
	int r1;
	r2 = r0->inner;
	if( r2 == NULL ) hl_null_access();
	r1 = hl_types_ArrayDyn_get_length(r2);
	return r1;
}

int vision_ds_Array2D_set_length(vision__ds__Array2D r0,int r1) {
	hl__types__ArrayDyn r3;
	r3 = r0->inner;
	if( r3 == NULL ) hl_null_access();
	hl_types_ArrayDyn_resize(r3,r1);
	return r1;
}

int vision_ds_Array2D_set_width(vision__ds__Array2D r0,int r1) {
	hl__types__ArrayDyn r3;
	int r4, r5;
	r3 = r0->inner;
	if( r3 == NULL ) hl_null_access();
	r5 = r0->height;
	r4 = r1 * r5;
	hl_types_ArrayDyn_resize(r3,r4);
	r0->width = r1;
	return r1;
}

int vision_ds_Array2D_set_height(vision__ds__Array2D r0,int r1) {
	hl__types__ArrayDyn r3;
	int r4;
	r3 = r0->inner;
	if( r3 == NULL ) hl_null_access();
	r4 = r0->width;
	r4 = r4 * r1;
	hl_types_ArrayDyn_resize(r3,r4);
	r0->height = r1;
	return r1;
}

vdynamic* vision_ds_Array2D_get_item(vision__ds__Array2D r0,hl__types__ArrayBytes_Int r1) {
	hl__types__ArrayDyn r2;
	vdynamic *r7;
	vbyte *r5;
	int r3, r4, r6;
	r2 = r0->inner;
	if( r2 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r3 = 0;
	r4 = r1->length;
	if( ((unsigned)r3) < ((unsigned)r4) ) goto label$d64ceec_16_8;
	r3 = 0;
	goto label$d64ceec_16_12;
	label$d64ceec_16_8:
	r5 = r1->bytes;
	r4 = 2;
	r4 = r3 << r4;
	r3 = *(int*)(r5 + r4);
	label$d64ceec_16_12:
	r4 = 1;
	r6 = r1->length;
	if( ((unsigned)r4) < ((unsigned)r6) ) goto label$d64ceec_16_17;
	r4 = 0;
	goto label$d64ceec_16_21;
	label$d64ceec_16_17:
	r5 = r1->bytes;
	r6 = 2;
	r6 = r4 << r6;
	r4 = *(int*)(r5 + r6);
	label$d64ceec_16_21:
	r6 = r0->height;
	r4 = r4 * r6;
	r3 = r3 + r4;
	r7 = ((vdynamic* (*)(hl__types__ArrayDyn,int))r2->$type->vobj_proto[0])(r2,r3);
	return r7;
}

vdynamic* vision_ds_Array2D_set_item(vision__ds__Array2D r0,hl__types__ArrayBytes_Int r1,vdynamic* r2) {
	hl__types__ArrayDyn r3;
	vbyte *r6;
	int r4, r5, r7;
	r3 = r0->inner;
	if( r3 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r4 = 0;
	r5 = r1->length;
	if( ((unsigned)r4) < ((unsigned)r5) ) goto label$d64ceec_17_8;
	r4 = 0;
	goto label$d64ceec_17_12;
	label$d64ceec_17_8:
	r6 = r1->bytes;
	r5 = 2;
	r5 = r4 << r5;
	r4 = *(int*)(r6 + r5);
	label$d64ceec_17_12:
	r5 = 1;
	r7 = r1->length;
	if( ((unsigned)r5) < ((unsigned)r7) ) goto label$d64ceec_17_17;
	r5 = 0;
	goto label$d64ceec_17_21;
	label$d64ceec_17_17:
	r6 = r1->bytes;
	r7 = 2;
	r7 = r5 << r7;
	r5 = *(int*)(r6 + r7);
	label$d64ceec_17_21:
	r7 = r0->height;
	r5 = r5 * r7;
	r4 = r4 + r5;
	((void (*)(hl__types__ArrayDyn,int,vdynamic*))r3->$type->vobj_proto[1])(r3,r4,r2);
	return r2;
}

hl__types__ArrayObj vision_ds_Array2D_to2DArray(vision__ds__Array2D r0) {
	bool *r11;
	hl__types__ArrayObj r1, r9;
	hl_type *r3;
	bool r10;
	hl__types__ArrayDyn r8, r15;
	vdynamic *r16;
	int r4, r5, r6, r7, r12, r13, r14;
	varray *r2;
	r3 = &t$hl_types_ArrayDyn;
	r4 = 0;
	r2 = hl_alloc_array(r3,r4);
	r1 = hl_types_ArrayObj_alloc(r2);
	r4 = 0;
	r5 = r0->height;
	label$d64ceec_18_6:
	if( r4 >= r5 ) goto label$d64ceec_18_36;
	r6 = r4;
	++r4;
	r3 = &t$_dyn;
	r7 = 0;
	r2 = hl_alloc_array(r3,r7);
	r9 = hl_types_ArrayObj_alloc(r2);
	r10 = true;
	r11 = &r10;
	r8 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r9),r11);
	r12 = r0->width;
	r7 = r6 * r12;
	r13 = r0->width;
	r12 = r6 * r13;
	r13 = r0->width;
	r12 = r12 + r13;
	label$d64ceec_18_23:
	if( r7 >= r12 ) goto label$d64ceec_18_33;
	r13 = r7;
	++r7;
	if( r8 == NULL ) hl_null_access();
	r15 = r0->inner;
	if( r15 == NULL ) hl_null_access();
	r16 = ((vdynamic* (*)(hl__types__ArrayDyn,int))r15->$type->vobj_proto[0])(r15,r13);
	r14 = hl_types_ArrayDyn_push(r8,r16);
	goto label$d64ceec_18_23;
	label$d64ceec_18_33:
	if( r1 == NULL ) hl_null_access();
	r7 = hl_types_ArrayObj_push(r1,((vdynamic*)r8));
	goto label$d64ceec_18_6;
	label$d64ceec_18_36:
	return r1;
}

