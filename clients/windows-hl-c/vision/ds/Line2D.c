// Generated by HLC 4.3.4 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <vision/ds/Line2D.h>
#include <hl/natives.h>
extern hl_type t$vision_ds_Point2D;
void vision_ds_Point2D_new(vision__ds__Point2D,double*,double*);
#include <hl/types/ArrayBytes_Float.h>
hl__types__ArrayBytes_Float hl_types_ArrayBase_allocF64(vbyte*,int);
String vision_ds_Line2D_toString(vision__ds__Line2D);
extern String s$cd69701;
String String___alloc__(vbyte*,int);
String String___add__(String,String);
extern String s$fc763cb;
extern String s$28c13a3;
extern String s$9371d7a;
extern hl_type t$vision_ds_Line2D;
void vision_ds_Line2D_new(vision__ds__Line2D,vision__ds__Point2D,vision__ds__Point2D);
extern hl_type t$vision_ds_Ray2D;
extern hl_type t$_f64;
void vision_ds_Ray2D_new(vision__ds__Ray2D,vision__ds__Point2D,vdynamic*,vdynamic*,vdynamic*);
#include <_std/Math.h>
extern $Math g$_Math;

double vision_ds_Line2D_get_length(vision__ds__Line2D r0) {
	vision__ds__Point2D r2;
	double r1, r3, r4;
	r2 = r0->end;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->x;
	r2 = r0->start;
	if( r2 == NULL ) hl_null_access();
	r3 = r2->x;
	r1 = r1 - r3;
	r3 = 2.;
	r1 = hl_math_pow(r1,r3);
	r2 = r0->end;
	if( r2 == NULL ) hl_null_access();
	r3 = r2->y;
	r2 = r0->start;
	if( r2 == NULL ) hl_null_access();
	r4 = r2->y;
	r3 = r3 - r4;
	r4 = 2.;
	r3 = hl_math_pow(r3,r4);
	r1 = r1 + r3;
	r1 = hl_math_sqrt(r1);
	return r1;
}

vision__ds__Point2D vision_ds_Line2D_intersect(vision__ds__Line2D r0,vision__ds__Line2D r1) {
	vision__ds__Point2D r3, r16;
	double r2, r5, r6, r7, r8, r9, r10, r11, r12, r13, r14, r15, r17, r18, r19;
	double *r21, *r22;
	int r20;
	r3 = r0->start;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->x;
	r3 = r0->start;
	if( r3 == NULL ) hl_null_access();
	r5 = r3->y;
	r3 = r0->end;
	if( r3 == NULL ) hl_null_access();
	r6 = r3->x;
	r3 = r0->end;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->y;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->start;
	if( r3 == NULL ) hl_null_access();
	r8 = r3->x;
	r3 = r1->start;
	if( r3 == NULL ) hl_null_access();
	r9 = r3->y;
	r3 = r1->end;
	if( r3 == NULL ) hl_null_access();
	r10 = r3->x;
	r3 = r1->end;
	if( r3 == NULL ) hl_null_access();
	r11 = r3->y;
	r12 = r11 - r9;
	r13 = r6 - r2;
	r12 = r12 * r13;
	r13 = r10 - r8;
	r14 = r7 - r5;
	r13 = r13 * r14;
	r12 = r12 - r13;
	if( r2 != r6 ) goto label$cc9b34f_2_34;
	if( r5 == r7 ) goto label$cc9b34f_2_36;
	label$cc9b34f_2_34:
	if( r8 != r10 ) goto label$cc9b34f_2_38;
	if( r9 != r11 ) goto label$cc9b34f_2_38;
	label$cc9b34f_2_36:
	r16 = NULL;
	goto label$cc9b34f_2_82;
	label$cc9b34f_2_38:
	r14 = 0.;
	if( r12 != r14 ) goto label$cc9b34f_2_42;
	r16 = NULL;
	goto label$cc9b34f_2_82;
	label$cc9b34f_2_42:
	r13 = r10 - r8;
	r14 = r5 - r9;
	r13 = r13 * r14;
	r14 = r11 - r9;
	r15 = r2 - r8;
	r14 = r14 * r15;
	r13 = r13 - r14;
	r13 = r13 / r12;
	r14 = r6 - r2;
	r15 = r5 - r9;
	r14 = r14 * r15;
	r15 = r7 - r5;
	r17 = r2 - r8;
	r15 = r15 * r17;
	r14 = r14 - r15;
	r14 = r14 / r12;
	r17 = 0.;
	if( r13 < r17 ) goto label$cc9b34f_2_66;
	r17 = 1.;
	if( r17 < r13 ) goto label$cc9b34f_2_66;
	r17 = 0.;
	if( r14 < r17 ) goto label$cc9b34f_2_66;
	r17 = 1.;
	if( !(r17 < r14) ) goto label$cc9b34f_2_68;
	label$cc9b34f_2_66:
	r16 = NULL;
	goto label$cc9b34f_2_82;
	label$cc9b34f_2_68:
	r18 = r6 - r2;
	r17 = r13 * r18;
	r15 = r2 + r17;
	r19 = r7 - r5;
	r18 = r13 * r19;
	r17 = r5 + r18;
	r16 = (vision__ds__Point2D)hl_alloc_obj(&t$vision_ds_Point2D);
	r20 = (int)r15;
	r18 = (double)r20;
	r21 = &r18;
	r20 = (int)r17;
	r19 = (double)r20;
	r22 = &r19;
	vision_ds_Point2D_new(r16,r21,r22);
	label$cc9b34f_2_82:
	return r16;
}

double vision_ds_Line2D_distanceTo(vision__ds__Line2D r0,vision__ds__Line2D r1) {
	vision__ds__Point2D r3, r16, r24, r25, r30, r35;
	hl__types__ArrayBytes_Float r39;
	double r2, r5, r6, r7, r8, r9, r10, r11, r12, r13, r14, r15, r17, r18, r19, r20, r26, r27, r28, r29, r31, r32, r33, r34, r36, r37, r38, r41, r45;
	double *r22, *r23;
	vbyte *r40;
	int r21, r42, r43, r44;
	r3 = r0->start;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->x;
	r3 = r0->start;
	if( r3 == NULL ) hl_null_access();
	r5 = r3->y;
	r3 = r0->end;
	if( r3 == NULL ) hl_null_access();
	r6 = r3->x;
	r3 = r0->end;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->y;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->start;
	if( r3 == NULL ) hl_null_access();
	r8 = r3->x;
	r3 = r1->start;
	if( r3 == NULL ) hl_null_access();
	r9 = r3->y;
	r3 = r1->end;
	if( r3 == NULL ) hl_null_access();
	r10 = r3->x;
	r3 = r1->end;
	if( r3 == NULL ) hl_null_access();
	r11 = r3->y;
	r12 = r11 - r9;
	r13 = r6 - r2;
	r12 = r12 * r13;
	r13 = r10 - r8;
	r14 = r7 - r5;
	r13 = r13 * r14;
	r12 = r12 - r13;
	if( r2 != r6 ) goto label$cc9b34f_3_34;
	if( r5 == r7 ) goto label$cc9b34f_3_36;
	label$cc9b34f_3_34:
	if( r8 != r10 ) goto label$cc9b34f_3_38;
	if( r9 != r11 ) goto label$cc9b34f_3_38;
	label$cc9b34f_3_36:
	r16 = NULL;
	goto label$cc9b34f_3_82;
	label$cc9b34f_3_38:
	r14 = 0.;
	if( r12 != r14 ) goto label$cc9b34f_3_42;
	r16 = NULL;
	goto label$cc9b34f_3_82;
	label$cc9b34f_3_42:
	r13 = r10 - r8;
	r14 = r5 - r9;
	r13 = r13 * r14;
	r14 = r11 - r9;
	r15 = r2 - r8;
	r14 = r14 * r15;
	r13 = r13 - r14;
	r13 = r13 / r12;
	r14 = r6 - r2;
	r15 = r5 - r9;
	r14 = r14 * r15;
	r15 = r7 - r5;
	r17 = r2 - r8;
	r15 = r15 * r17;
	r14 = r14 - r15;
	r14 = r14 / r12;
	r17 = 0.;
	if( r13 < r17 ) goto label$cc9b34f_3_66;
	r17 = 1.;
	if( r17 < r13 ) goto label$cc9b34f_3_66;
	r17 = 0.;
	if( r14 < r17 ) goto label$cc9b34f_3_66;
	r17 = 1.;
	if( !(r17 < r14) ) goto label$cc9b34f_3_68;
	label$cc9b34f_3_66:
	r16 = NULL;
	goto label$cc9b34f_3_82;
	label$cc9b34f_3_68:
	r18 = r6 - r2;
	r17 = r13 * r18;
	r15 = r2 + r17;
	r19 = r7 - r5;
	r18 = r13 * r19;
	r17 = r5 + r18;
	r16 = (vision__ds__Point2D)hl_alloc_obj(&t$vision_ds_Point2D);
	r21 = (int)r15;
	r18 = (double)r21;
	r22 = &r18;
	r21 = (int)r17;
	r19 = (double)r21;
	r23 = &r19;
	vision_ds_Point2D_new(r16,r22,r23);
	label$cc9b34f_3_82:
	if( !r16 ) goto label$cc9b34f_3_85;
	r13 = 0.;
	return r13;
	label$cc9b34f_3_85:
	r16 = r1->start;
	r24 = r0->start;
	if( r24 == NULL ) hl_null_access();
	r13 = r24->y;
	r24 = r0->end;
	if( r24 == NULL ) hl_null_access();
	r14 = r24->y;
	r13 = r13 - r14;
	if( r16 == NULL ) hl_null_access();
	r14 = r16->x;
	r13 = r13 * r14;
	r24 = r0->end;
	if( r24 == NULL ) hl_null_access();
	r14 = r24->x;
	r24 = r0->start;
	if( r24 == NULL ) hl_null_access();
	r15 = r24->x;
	r14 = r14 - r15;
	r15 = r16->y;
	r14 = r14 * r15;
	r13 = r13 + r14;
	r24 = r0->start;
	if( r24 == NULL ) hl_null_access();
	r14 = r24->x;
	r24 = r0->end;
	if( r24 == NULL ) hl_null_access();
	r15 = r24->y;
	r14 = r14 * r15;
	r24 = r0->end;
	if( r24 == NULL ) hl_null_access();
	r15 = r24->x;
	r24 = r0->start;
	if( r24 == NULL ) hl_null_access();
	r17 = r24->y;
	r15 = r15 * r17;
	r14 = r14 - r15;
	r13 = r13 + r14;
	r24 = r0->end;
	if( r24 == NULL ) hl_null_access();
	r14 = r24->x;
	r24 = r0->start;
	if( r24 == NULL ) hl_null_access();
	r15 = r24->x;
	r14 = r14 - r15;
	r15 = 2.;
	r14 = hl_math_pow(r14,r15);
	r24 = r0->end;
	if( r24 == NULL ) hl_null_access();
	r15 = r24->y;
	r24 = r0->start;
	if( r24 == NULL ) hl_null_access();
	r17 = r24->y;
	r15 = r15 - r17;
	r17 = 2.;
	r15 = hl_math_pow(r15,r17);
	r14 = r14 + r15;
	r14 = hl_math_sqrt(r14);
	r15 = r13 / r14;
	r24 = r1->end;
	r25 = r0->start;
	if( r25 == NULL ) hl_null_access();
	r20 = r25->y;
	r25 = r0->end;
	if( r25 == NULL ) hl_null_access();
	r26 = r25->y;
	r20 = r20 - r26;
	if( r24 == NULL ) hl_null_access();
	r26 = r24->x;
	r20 = r20 * r26;
	r25 = r0->end;
	if( r25 == NULL ) hl_null_access();
	r26 = r25->x;
	r25 = r0->start;
	if( r25 == NULL ) hl_null_access();
	r27 = r25->x;
	r26 = r26 - r27;
	r27 = r24->y;
	r26 = r26 * r27;
	r20 = r20 + r26;
	r25 = r0->start;
	if( r25 == NULL ) hl_null_access();
	r26 = r25->x;
	r25 = r0->end;
	if( r25 == NULL ) hl_null_access();
	r27 = r25->y;
	r26 = r26 * r27;
	r25 = r0->end;
	if( r25 == NULL ) hl_null_access();
	r27 = r25->x;
	r25 = r0->start;
	if( r25 == NULL ) hl_null_access();
	r28 = r25->y;
	r27 = r27 * r28;
	r26 = r26 - r27;
	r20 = r20 + r26;
	r25 = r0->end;
	if( r25 == NULL ) hl_null_access();
	r26 = r25->x;
	r25 = r0->start;
	if( r25 == NULL ) hl_null_access();
	r27 = r25->x;
	r26 = r26 - r27;
	r27 = 2.;
	r26 = hl_math_pow(r26,r27);
	r25 = r0->end;
	if( r25 == NULL ) hl_null_access();
	r27 = r25->y;
	r25 = r0->start;
	if( r25 == NULL ) hl_null_access();
	r28 = r25->y;
	r27 = r27 - r28;
	r28 = 2.;
	r27 = hl_math_pow(r27,r28);
	r26 = r26 + r27;
	r26 = hl_math_sqrt(r26);
	r27 = r20 / r26;
	r25 = r0->start;
	r30 = r1->start;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->y;
	r30 = r1->end;
	if( r30 == NULL ) hl_null_access();
	r31 = r30->y;
	r29 = r29 - r31;
	if( r25 == NULL ) hl_null_access();
	r31 = r25->x;
	r29 = r29 * r31;
	r30 = r1->end;
	if( r30 == NULL ) hl_null_access();
	r31 = r30->x;
	r30 = r1->start;
	if( r30 == NULL ) hl_null_access();
	r32 = r30->x;
	r31 = r31 - r32;
	r32 = r25->y;
	r31 = r31 * r32;
	r29 = r29 + r31;
	r30 = r1->start;
	if( r30 == NULL ) hl_null_access();
	r31 = r30->x;
	r30 = r1->end;
	if( r30 == NULL ) hl_null_access();
	r32 = r30->y;
	r31 = r31 * r32;
	r30 = r1->end;
	if( r30 == NULL ) hl_null_access();
	r32 = r30->x;
	r30 = r1->start;
	if( r30 == NULL ) hl_null_access();
	r33 = r30->y;
	r32 = r32 * r33;
	r31 = r31 - r32;
	r29 = r29 + r31;
	r30 = r1->end;
	if( r30 == NULL ) hl_null_access();
	r31 = r30->x;
	r30 = r1->start;
	if( r30 == NULL ) hl_null_access();
	r32 = r30->x;
	r31 = r31 - r32;
	r32 = 2.;
	r31 = hl_math_pow(r31,r32);
	r30 = r1->end;
	if( r30 == NULL ) hl_null_access();
	r32 = r30->y;
	r30 = r1->start;
	if( r30 == NULL ) hl_null_access();
	r33 = r30->y;
	r32 = r32 - r33;
	r33 = 2.;
	r32 = hl_math_pow(r32,r33);
	r31 = r31 + r32;
	r31 = hl_math_sqrt(r31);
	r32 = r29 / r31;
	r30 = r0->end;
	r35 = r1->start;
	if( r35 == NULL ) hl_null_access();
	r34 = r35->y;
	r35 = r1->end;
	if( r35 == NULL ) hl_null_access();
	r36 = r35->y;
	r34 = r34 - r36;
	if( r30 == NULL ) hl_null_access();
	r36 = r30->x;
	r34 = r34 * r36;
	r35 = r1->end;
	if( r35 == NULL ) hl_null_access();
	r36 = r35->x;
	r35 = r1->start;
	if( r35 == NULL ) hl_null_access();
	r37 = r35->x;
	r36 = r36 - r37;
	r37 = r30->y;
	r36 = r36 * r37;
	r34 = r34 + r36;
	r35 = r1->start;
	if( r35 == NULL ) hl_null_access();
	r36 = r35->x;
	r35 = r1->end;
	if( r35 == NULL ) hl_null_access();
	r37 = r35->y;
	r36 = r36 * r37;
	r35 = r1->end;
	if( r35 == NULL ) hl_null_access();
	r37 = r35->x;
	r35 = r1->start;
	if( r35 == NULL ) hl_null_access();
	r38 = r35->y;
	r37 = r37 * r38;
	r36 = r36 - r37;
	r34 = r34 + r36;
	r35 = r1->end;
	if( r35 == NULL ) hl_null_access();
	r36 = r35->x;
	r35 = r1->start;
	if( r35 == NULL ) hl_null_access();
	r37 = r35->x;
	r36 = r36 - r37;
	r37 = 2.;
	r36 = hl_math_pow(r36,r37);
	r35 = r1->end;
	if( r35 == NULL ) hl_null_access();
	r37 = r35->y;
	r35 = r1->start;
	if( r35 == NULL ) hl_null_access();
	r38 = r35->y;
	r37 = r37 - r38;
	r38 = 2.;
	r37 = hl_math_pow(r37,r38);
	r36 = r36 + r37;
	r36 = hl_math_sqrt(r36);
	r37 = r34 / r36;
	r21 = 32;
	r40 = hl_alloc_bytes(r21);
	r21 = 0;
	r42 = 3;
	r42 = r21 << r42;
	*(double*)(r40 + r42) = r15;
	++r21;
	r42 = 3;
	r42 = r21 << r42;
	*(double*)(r40 + r42) = r27;
	++r21;
	r42 = 3;
	r42 = r21 << r42;
	*(double*)(r40 + r42) = r32;
	++r21;
	r42 = 3;
	r42 = r21 << r42;
	*(double*)(r40 + r42) = r37;
	++r21;
	r21 = 4;
	r39 = hl_types_ArrayBase_allocF64(r40,r21);
	if( r39 == NULL ) hl_null_access();
	r21 = 0;
	r42 = r39->length;
	if( ((unsigned)r21) < ((unsigned)r42) ) goto label$cc9b34f_3_344;
	r41 = 0.;
	goto label$cc9b34f_3_348;
	label$cc9b34f_3_344:
	r40 = r39->bytes;
	r42 = 3;
	r42 = r21 << r42;
	r41 = *(double*)(r40 + r42);
	label$cc9b34f_3_348:
	r21 = 0;
	r42 = r39->length;
	label$cc9b34f_3_350:
	if( r21 >= r42 ) goto label$cc9b34f_3_374;
	r43 = r21;
	++r21;
	if( r39 == NULL ) hl_null_access();
	r44 = r39->length;
	if( ((unsigned)r43) < ((unsigned)r44) ) goto label$cc9b34f_3_359;
	r45 = 0.;
	goto label$cc9b34f_3_363;
	label$cc9b34f_3_359:
	r40 = r39->bytes;
	r44 = 3;
	r44 = r43 << r44;
	r45 = *(double*)(r40 + r44);
	label$cc9b34f_3_363:
	if( !(r45 < r41) ) goto label$cc9b34f_3_373;
	r44 = r39->length;
	if( ((unsigned)r43) < ((unsigned)r44) ) goto label$cc9b34f_3_368;
	r45 = 0.;
	goto label$cc9b34f_3_372;
	label$cc9b34f_3_368:
	r40 = r39->bytes;
	r44 = 3;
	r44 = r43 << r44;
	r45 = *(double*)(r40 + r44);
	label$cc9b34f_3_372:
	r41 = r45;
	label$cc9b34f_3_373:
	goto label$cc9b34f_3_350;
	label$cc9b34f_3_374:
	return r41;
}

vbyte* vision_ds_Line2D___string(vision__ds__Line2D r0) {
	String r2;
	vbyte *r1;
	r2 = vision_ds_Line2D_toString(r0);
	if( r2 == NULL ) hl_null_access();
	r1 = r2->bytes;
	return r1;
}

String vision_ds_Line2D_toString(vision__ds__Line2D r0) {
	String r1, r7;
	vision__ds__Point2D r3;
	double r2;
	int *r5;
	vbyte *r6;
	int r4;
	r1 = (String)s$cd69701;
	r3 = r0->start;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->x;
	r5 = &r4;
	r6 = hl_ftos(r2,r5);
	r7 = String___alloc__(r6,r4);
	r1 = String___add__(r1,r7);
	r7 = (String)s$fc763cb;
	r1 = String___add__(r1,r7);
	r3 = r0->start;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->y;
	r5 = &r4;
	r6 = hl_ftos(r2,r5);
	r7 = String___alloc__(r6,r4);
	r1 = String___add__(r1,r7);
	r7 = (String)s$28c13a3;
	r1 = String___add__(r1,r7);
	r3 = r0->end;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->x;
	r5 = &r4;
	r6 = hl_ftos(r2,r5);
	r7 = String___alloc__(r6,r4);
	r1 = String___add__(r1,r7);
	r7 = (String)s$fc763cb;
	r1 = String___add__(r1,r7);
	r3 = r0->end;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->y;
	r5 = &r4;
	r6 = hl_ftos(r2,r5);
	r7 = String___alloc__(r6,r4);
	r1 = String___add__(r1,r7);
	r7 = (String)s$9371d7a;
	r1 = String___add__(r1,r7);
	return r1;
}

vision__ds__Line2D vision_ds_Line2D_fromRay2D(vision__ds__Ray2D r0) {
	vision__ds__Line2D r14;
	vision__ds__Point2D r2, r15;
	double r1, r4, r5, r6, r7, r8, r10;
	double *r12, *r13;
	int r9, r11;
	if( r0 == NULL ) hl_null_access();
	r2 = r0->point;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->x;
	r2 = r0->point;
	if( r2 == NULL ) hl_null_access();
	r4 = r2->y;
	r5 = 1.;
	r8 = r0->radians;
	r8 = hl_math_cos(r8);
	r7 = r5 * r8;
	r6 = r1 + r7;
	r9 = (int)r6;
	r10 = r0->radians;
	r10 = hl_math_sin(r10);
	r8 = r5 * r10;
	r7 = r4 + r8;
	r2 = (vision__ds__Point2D)hl_alloc_obj(&t$vision_ds_Point2D);
	r8 = (double)r9;
	r12 = &r8;
	r11 = (int)r7;
	r10 = (double)r11;
	r13 = &r10;
	vision_ds_Point2D_new(r2,r12,r13);
	r14 = (vision__ds__Line2D)hl_alloc_obj(&t$vision_ds_Line2D);
	r15 = r0->point;
	vision_ds_Line2D_new(r14,r15,r2);
	return r14;
}

vision__ds__Ray2D vision_ds_Line2D_toRay2D(vision__ds__Line2D r0) {
	vision__ds__Point2D r2;
	vision__ds__Ray2D r1;
	double r3;
	vdynamic *r4, *r5, *r6;
	r1 = (vision__ds__Ray2D)hl_alloc_obj(&t$vision_ds_Ray2D);
	r2 = r0->start;
	r3 = r0->slope;
	r4 = hl_alloc_dynamic(&t$_f64);
	r4->v.d = r3;
	r5 = NULL;
	r6 = NULL;
	vision_ds_Ray2D_new(r1,r2,r4,r5,r6);
	return r1;
}

vision__ds__Point2D vision_ds_Line2D_set_start(vision__ds__Line2D r0,vision__ds__Point2D r1) {
	vision__ds__Point2D r2;
	$Math r7;
	double r3, r4, r5, r6;
	r2 = r0->end;
	if( r2 == NULL ) hl_null_access();
	r3 = r2->x;
	if( r1 == NULL ) hl_null_access();
	r4 = r1->x;
	r3 = r3 - r4;
	r4 = r2->y;
	r5 = r1->y;
	r4 = r4 - r5;
	r5 = hl_math_atan2(r3,r4);
	r0->radians = r5;
	r5 = r0->radians;
	r5 = hl_math_tan(r5);
	r0->slope = r5;
	r5 = r0->radians;
	r6 = 180.;
	r5 = r5 * r6;
	r7 = ($Math)g$_Math;
	r6 = r7->PI;
	r5 = r5 / r6;
	r0->degrees = r5;
	r0->start = r1;
	return r1;
}

vision__ds__Point2D vision_ds_Line2D_set_end(vision__ds__Line2D r0,vision__ds__Point2D r1) {
	vision__ds__Point2D r2;
	$Math r7;
	double r3, r4, r5, r6;
	r2 = r0->end;
	if( r2 == NULL ) hl_null_access();
	r3 = r2->x;
	if( r1 == NULL ) hl_null_access();
	r4 = r1->x;
	r3 = r3 - r4;
	r4 = r2->y;
	r5 = r1->y;
	r4 = r4 - r5;
	r5 = hl_math_atan2(r3,r4);
	r0->radians = r5;
	r5 = r0->radians;
	r5 = hl_math_tan(r5);
	r0->slope = r5;
	r5 = r0->radians;
	r6 = 180.;
	r5 = r5 * r6;
	r7 = ($Math)g$_Math;
	r6 = r7->PI;
	r5 = r5 / r6;
	r0->degrees = r5;
	r0->end = r1;
	return r1;
}

vision__ds__Point2D vision_ds_Line2D_get_middle(vision__ds__Line2D r0) {
	vision__ds__Point2D r1, r3;
	double r2, r4, r6;
	double *r5, *r7;
	r1 = (vision__ds__Point2D)hl_alloc_obj(&t$vision_ds_Point2D);
	r3 = r0->start;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->x;
	r3 = r0->end;
	if( r3 == NULL ) hl_null_access();
	r4 = r3->x;
	r2 = r2 + r4;
	r4 = 2.;
	r2 = r2 / r4;
	r5 = &r2;
	r3 = r0->start;
	if( r3 == NULL ) hl_null_access();
	r4 = r3->y;
	r3 = r0->end;
	if( r3 == NULL ) hl_null_access();
	r6 = r3->y;
	r4 = r4 + r6;
	r6 = 2.;
	r4 = r4 / r6;
	r7 = &r4;
	vision_ds_Point2D_new(r1,r5,r7);
	return r1;
}

vision__ds__Point2D vision_ds_Line2D_set_middle(vision__ds__Line2D r0,vision__ds__Point2D r1) {
	vision__ds__Point2D r3, r10;
	double r2, r4, r6, r7, r8, r9, r12;
	double *r11, *r13;
	r3 = r0->start;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->x;
	r3 = r0->end;
	if( r3 == NULL ) hl_null_access();
	r4 = r3->x;
	r2 = r2 + r4;
	r4 = 2.;
	r2 = r2 / r4;
	r3 = r0->start;
	if( r3 == NULL ) hl_null_access();
	r4 = r3->y;
	r3 = r0->end;
	if( r3 == NULL ) hl_null_access();
	r6 = r3->y;
	r4 = r4 + r6;
	r6 = 2.;
	r4 = r4 / r6;
	if( r1 == NULL ) hl_null_access();
	r6 = r1->x;
	r6 = r6 - r2;
	r7 = r1->y;
	r7 = r7 - r4;
	r3 = r0->start;
	if( r3 == NULL ) hl_null_access();
	r8 = r3->y;
	r8 = r8 + r7;
	r3->y = r8;
	r3 = r0->end;
	if( r3 == NULL ) hl_null_access();
	r8 = r3->y;
	r8 = r8 + r7;
	r3->y = r8;
	r3 = r0->start;
	if( r3 == NULL ) hl_null_access();
	r8 = r3->x;
	r8 = r8 + r6;
	r3->x = r8;
	r3 = r0->end;
	if( r3 == NULL ) hl_null_access();
	r8 = r3->x;
	r8 = r8 + r6;
	r3->x = r8;
	r3 = (vision__ds__Point2D)hl_alloc_obj(&t$vision_ds_Point2D);
	r10 = r0->start;
	if( r10 == NULL ) hl_null_access();
	r8 = r10->x;
	r10 = r0->end;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->x;
	r8 = r8 + r9;
	r9 = 2.;
	r8 = r8 / r9;
	r11 = &r8;
	r10 = r0->start;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->y;
	r10 = r0->end;
	if( r10 == NULL ) hl_null_access();
	r12 = r10->y;
	r9 = r9 + r12;
	r12 = 2.;
	r9 = r9 / r12;
	r13 = &r9;
	vision_ds_Point2D_new(r3,r11,r13);
	return r3;
}

void vision_ds_Line2D_new(vision__ds__Line2D r0,vision__ds__Point2D r1,vision__ds__Point2D r2) {
	vision__ds__Point2D r3;
	$Math r16;
	double r5, r7, r10, r11, r12, r13, r14, r15;
	double *r6, *r8;
	int r4;
	r3 = (vision__ds__Point2D)hl_alloc_obj(&t$vision_ds_Point2D);
	r4 = 0;
	r5 = (double)r4;
	r6 = &r5;
	r4 = 0;
	r7 = (double)r4;
	r8 = &r7;
	vision_ds_Point2D_new(r3,r6,r8);
	r0->end = r3;
	r3 = (vision__ds__Point2D)hl_alloc_obj(&t$vision_ds_Point2D);
	r4 = 0;
	r10 = (double)r4;
	r6 = &r10;
	r4 = 0;
	r11 = (double)r4;
	r8 = &r11;
	vision_ds_Point2D_new(r3,r6,r8);
	r0->start = r3;
	r3 = r0->start;
	if( r3 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r12 = r1->x;
	r3->x = r12;
	r3 = r0->start;
	if( r3 == NULL ) hl_null_access();
	r12 = r1->y;
	r3->y = r12;
	r3 = r0->end;
	if( r3 == NULL ) hl_null_access();
	if( r2 == NULL ) hl_null_access();
	r12 = r2->x;
	r3->x = r12;
	r3 = r0->end;
	if( r3 == NULL ) hl_null_access();
	r12 = r2->y;
	r3->y = r12;
	r12 = r2->x;
	r13 = r1->x;
	r12 = r12 - r13;
	r13 = r2->y;
	r14 = r1->y;
	r13 = r13 - r14;
	r14 = hl_math_atan2(r12,r13);
	r0->radians = r14;
	r14 = r0->radians;
	r14 = hl_math_tan(r14);
	r0->slope = r14;
	r14 = r0->radians;
	r15 = 180.;
	r14 = r14 * r15;
	r16 = ($Math)g$_Math;
	r15 = r16->PI;
	r14 = r14 / r15;
	r0->degrees = r14;
	return;
}

