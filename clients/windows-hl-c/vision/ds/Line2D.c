// Generated by HLC 4.3.4 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <vision/ds/Line2D.h>
String vision_ds_Line2D_toString(vision__ds__Line2D);
extern String s$cd69701;
#include <hl/natives.h>
String String___alloc__(vbyte*,int);
String String___add__(String,String);
extern String s$fc763cb;
extern String s$28c13a3;
extern String s$9371d7a;
#include <_std/Math.h>
extern hl_type t$vision_ds_Point2D;
void vision_ds_Point2D_new(vision__ds__Point2D,double*,double*);
extern $Math g$_Math;

vbyte* vision_ds_Line2D___string(vision__ds__Line2D r0) {
	String r2;
	vbyte *r1;
	r2 = vision_ds_Line2D_toString(r0);
	if( r2 == NULL ) hl_null_access();
	r1 = r2->bytes;
	return r1;
}

String vision_ds_Line2D_toString(vision__ds__Line2D r0) {
	String r1, r7;
	vision__ds__Point2D r3;
	double r2;
	int *r5;
	vbyte *r6;
	int r4;
	r1 = (String)s$cd69701;
	r3 = r0->start;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->x;
	r5 = &r4;
	r6 = hl_ftos(r2,r5);
	r7 = String___alloc__(r6,r4);
	r1 = String___add__(r1,r7);
	r7 = (String)s$fc763cb;
	r1 = String___add__(r1,r7);
	r3 = r0->start;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->y;
	r5 = &r4;
	r6 = hl_ftos(r2,r5);
	r7 = String___alloc__(r6,r4);
	r1 = String___add__(r1,r7);
	r7 = (String)s$28c13a3;
	r1 = String___add__(r1,r7);
	r3 = r0->end;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->x;
	r5 = &r4;
	r6 = hl_ftos(r2,r5);
	r7 = String___alloc__(r6,r4);
	r1 = String___add__(r1,r7);
	r7 = (String)s$fc763cb;
	r1 = String___add__(r1,r7);
	r3 = r0->end;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->y;
	r5 = &r4;
	r6 = hl_ftos(r2,r5);
	r7 = String___alloc__(r6,r4);
	r1 = String___add__(r1,r7);
	r7 = (String)s$9371d7a;
	r1 = String___add__(r1,r7);
	return r1;
}

void vision_ds_Line2D_new(vision__ds__Line2D r0,vision__ds__Point2D r1,vision__ds__Point2D r2) {
	vision__ds__Point2D r3;
	$Math r16;
	double r5, r7, r10, r11, r12, r13, r14, r15;
	double *r6, *r8;
	int r4;
	r3 = (vision__ds__Point2D)hl_alloc_obj(&t$vision_ds_Point2D);
	r4 = 0;
	r5 = (double)r4;
	r6 = &r5;
	r4 = 0;
	r7 = (double)r4;
	r8 = &r7;
	vision_ds_Point2D_new(r3,r6,r8);
	r0->end = r3;
	r3 = (vision__ds__Point2D)hl_alloc_obj(&t$vision_ds_Point2D);
	r4 = 0;
	r10 = (double)r4;
	r6 = &r10;
	r4 = 0;
	r11 = (double)r4;
	r8 = &r11;
	vision_ds_Point2D_new(r3,r6,r8);
	r0->start = r3;
	r3 = r0->start;
	if( r3 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r12 = r1->x;
	r3->x = r12;
	r3 = r0->start;
	if( r3 == NULL ) hl_null_access();
	r12 = r1->y;
	r3->y = r12;
	r3 = r0->end;
	if( r3 == NULL ) hl_null_access();
	if( r2 == NULL ) hl_null_access();
	r12 = r2->x;
	r3->x = r12;
	r3 = r0->end;
	if( r3 == NULL ) hl_null_access();
	r12 = r2->y;
	r3->y = r12;
	r12 = r2->x;
	r13 = r1->x;
	r12 = r12 - r13;
	r13 = r2->y;
	r14 = r1->y;
	r13 = r13 - r14;
	r14 = hl_math_atan2(r12,r13);
	r0->radians = r14;
	r14 = r0->radians;
	r14 = hl_math_tan(r14);
	r0->slope = r14;
	r14 = r0->radians;
	r15 = 180.;
	r14 = r14 * r15;
	r16 = ($Math)g$_Math;
	r15 = r16->PI;
	r14 = r14 / r15;
	r0->degrees = r14;
	return;
}

